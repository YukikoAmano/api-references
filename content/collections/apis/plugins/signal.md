---
title: シグナル
slug: plugins/signal
description: 「シグナル」のプラグインでの利用方法
order: 11
navi: プラグインでの利用方法
---
    
## 目次
 - [グローバルシグナルの送信](#グローバルシグナルの送信)
 - [グローバルシグナルの取得](#グローバルシグナルの取得)
 - [ユーザーシグナルの送信](#ユーザーシグナルの送信)
 - [ユーザーシグナルの取得](#ユーザーシグナルの取得)

## グローバルシグナル
    
### プラグインの利用方法
プラグインでシグナルを利用するには以下のようにします。
1. プラグインのダウンロード：[AtsumaruGlobalSignal.js](https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruGlobalSignal.js) を右クリックで「名前をつけて保存」してダウンロード
1. プロジェクトに追加：ダウンロードしたファイルをプロジェクトのプラグインフォルダに設置
1. 有効化：プロジェクトのプラグイン設定でプラグインをONにする
1. 設定：プラグイン設定で、取得した情報を収納する変数のIDを指定する。
    
### グローバルシグナルの送信
プラグインコマンドで次のいずれかのように指定します（どちらでも動作は同じです）。
```
SendGlobalSignal <signalDataVariableId>
```
あるいは
```
グローバルシグナル送信 <signalDataVariableId>
```
    
変数`<signalDataVariableId>`からデータを読み取り、グローバルシグナルとして送信します。
    
### グローバルシグナルの取得
プラグインコマンドで次のいずれかのように指定します（どちらでも動作は同じです）。
```
GetGlobalSignal
```
あるいは
```
グローバルシグナル取得
```
    
まだ取得していないグローバルシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。
    
 - 残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。
 - 残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)
 - この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。
 - そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。
    
## ユーザーシグナル
    
### プラグインの利用方法
プラグインでを利用するには以下のようにします。
1. プラグインのダウンロード：[AtsumaruUserSignal.js](https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruUserSignal.js) を右クリックで「名前をつけて保存」してダウンロード
1. プロジェクトに追加：ダウンロードしたファイルをプロジェクトのプラグインフォルダに設置
1. 有効化：プロジェクトのプラグイン設定でプラグインをONにする
1. 設定：プラグイン設定で、取得した情報を収納する変数のIDを指定する。
    
### ユーザーシグナルの送信
プラグインコマンドで次のいずれかのように指定します（どちらでも動作は同じです）。
```
SendUserSignal <signalDataVariableId> <userIdVariableId>
```
あるいは
```
ユーザーシグナル送信 <signalDataVariableId> <userIdVariableId>
```
    
変数`<signalDataVariableId>`からデータを読み取り、それをシグナルとします。変数`<userIdVariableId>`からユーザーIDを読み取り、そのIDのユーザーにシグナルを送信します。
    
### ユーザーシグナルの取得
プラグインコマンドで次のいずれかのように指定します（どちらでも動作は同じです）。
```
GetUserSignal
```
あるいは
```
ユーザーシグナル取得
```
    
まだ取得していないユーザーシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。
    
 - 残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。
 - 残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)
 - この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。
 - そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。
    
## 関連ドキュメント

ドキュメント|リンク|備考
:---|:---|:---
機能解説|[シグナル](/signal)|機能概要や全般的な解説
APIでの利用方法|[シグナル](/apis/signal)|他ゲームエンジンやより高度な利用を必要とするユーザー向け
    
## 最終更新日
 - 2020/02/28
