{"path":"storage/localStorage","templateID":1,"sharedPropsHashes":{"apiList":"Z2bsMi6"},"localProps":{"reference":{"title":"ローカルストレージについて","slug":"storage/localStorage","description":"RPGアツマール上でのローカルストレージの取り扱いについて","order":1,"contents":"<h2>RPGアツマールの localStorage の扱いについて</h2>\n<p>RPGアツマールでは、自動で挿入される <code>rpgatsumaru.js</code> によって、ブラウザの localStorage を独自のものに差し替えています。<br>RPGアツマール上で localStorage を使用すると、<code>rpgatsumaru.js</code> が内部で storage API を使って、保存された内容を自動的にサーバーにアップロードします。<br>この機能のために、いくつかの特別な仕様と制限が存在します。</p>\n<h3>仕様／制限一覧</h3>\n<h4>特別扱いされる key</h4>\n<p><code>RPG Global</code>、<code>RPG FileN</code> (Nは数字) の2つの key は、RPGツクールMVのエンジンに組み込まれている <code>lzstring.js</code> によって、圧縮されたデータを読み書きするように設計されています。\nそのため、RPGツクールMV以外のゲームがこの key を利用すると、データが正しく処理されず、破損する可能性があります。</p>\n<p>RPGツクールMVは <code>RPG Config</code> に、デバイスごとの共通設定項目（音量設定や常時ダッシュ設定など）を保存するように設計されています。\nそのため、この key だけは内部で storage API を使用せず、元の localStorage から読み書きするように設計されています。</p>\n<h4>エラーハンドリングの制限</h4>\n<p>storage API は非同期APIのため、同期APIである localStorage ではエラーハンドリングができません。localStorage を使っての例外処理をすることができませんので、例外処理が必要な場合は storage API を利用してください。</p>\n<h4>サーバー側とのズレ</h4>\n<p>localStorage は同期APIのため、常にサーバの最新情報を取得することができません。そのため、localStorage から得られる情報はサーバーセーブよりも古い可能性があります。最新のセーブを常に取りたい場合は storage API を利用してください。</p>\n"},"title":"ローカルストレージについて","path":"/storage/localStorage"}}
