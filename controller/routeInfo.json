{"path":"controller","templateID":1,"sharedPropsHashes":{"apiList":"ZBJJOF"},"localProps":{"reference":{"title":"コントローラーを利用する","slug":"controller","description":"スマートフォンでのゲームプレイ時に、バーチャルコントローラーからの入力を受け取るためのAPIです。","order":11,"contents":"<h2 id=\"-\">概要</h2>\n<p>RPGアツマールではスマートフォンでゲームをプレイする際に、バーチャルコントローラーを表示しています。その入力を受け取るAPIです。バーチャルコントローラーは設定により非表示になっていることがあります。</p>\n<p><img src=\"https://atsumaru.github.io/api-references/images/controller.png\" alt=\"コントローラー\"></p>\n<h3 id=\"-\">なにができるのか</h3>\n<p> バーチャルコントローラーで入力された操作を受け取れます</p>\n<h4 id=\"-\">利用想定／利用例</h4>\n<p>RPGツクールMV製ゲームの場合、RPGアツマールが挿入する <code>rpgatsumaru.js</code> によって自動的にこの機能を利用しています。例えば以下のゲームで、この機能を利用してゲームを操作できます。</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm7601\">【防衛ゲーム】タタの魔法使い【異世界サバイバル】</a><ul>\n<li>PCの場合は、ゲーム画面左下にあるバーチャルコントローラーボタンを押すと左右に表示されます。</li>\n<li>スマートフォンの場合は、デフォルトでゲーム画面下に表示されます。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\">利用方法</h2>\n<p>バーチャルコントローラーは次の方法で利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">ゲームAPI</td>\n<td align=\"left\">以下の「APIでの利用方法」を参考に、直接APIを呼び出してください</td>\n</tr>\n</tbody></table>\n<h3 id=\"api-\">APIでの利用方法</h3>\n<p>APIを利用したコントローラー機能の利用</p>\n<h4 id=\"-api\">コントローラー入力取得API</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.controllers.defaultController.subscribe(observer: Observer)</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\"><ul><li>RPGアツマールのスマホ版にあるコントローラーの入力情報を取得できるAPIです。</li><li>Observer, subscriptionについてはESNextのObservableを参照してください。</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\">RPGアツマールのコントローラーの入力情報( <code>{type: string, key: string}</code> )を受け取るObserver</td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>subscription</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2016/12/27</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/10/25</td>\n</tr>\n</tbody></table>\n<h4 id=\"-api\">コントローラー入力取得コールバックAPI</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.controllers.defaultController.subscribe(next: (info: {type: string, key: string}) =&gt; void)</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\"><code>window.RPGAtsumaru.controllers.defaultController.subscribe(observer)</code> の引数に、コールバック関数を受け付けられるようにしたものです。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\">RPGアツマールのコントローラー入力情報( <code>{type: string, key: string}</code> )を受け取るコールバック</td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>subscription</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2016/12/27</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/10/25</td>\n</tr>\n</tbody></table>\n"},"title":"コントローラーを利用する","path":"/controller"}}
