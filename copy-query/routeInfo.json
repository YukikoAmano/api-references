{"path":"copy-query","templateID":1,"sharedPropsHashes":{"apiList":"4XhWH"},"localProps":{"reference":{"title":"クエリ情報の取得","slug":"copy-query","description":"RPGアツマールでURLのquery情報を取得するにはこの機能を利用します。","order":21,"experimental":true,"contents":"<h2 id=\"-\">概要</h2>\n<p>ブラウザのロケーションバーに入力されたクエリパラメータを取得することができる機能です。\nただし、すべてのクエリパラメータが取得可能というわけではなく、あらかじめRPGアツマールで予約された、<code>param1</code> ~ <code>param9</code> までの固定パラメータのみ値を取得できます。</p>\n<h3 id=\"-\">なにができるのか</h3>\n<p><img src=\"https://atsumaru.github.io/api-references/images/copyquery_example.png\" alt=\"クエリ情報の取得\"></p>\n<p>スクリーンショットのように、ブラウザのロケーションバーに入力されたクエリパラメータを参照できます。</p>\n<h4 id=\"-\">利用想定／利用例</h4>\n<p>以下のような利用を想定しています。</p>\n<ul>\n<li>秘密のURLからゲームを起動したときだけプレイできる隠し要素</li>\n<li>他のゲームから <a href=\"/popup\">外部リンク</a> 経由で開いてもらうことによる、ゲーム間連携</li>\n</ul>\n<h2 id=\"-\">利用方法</h2>\n<p>クエリ情報の取得は次の方法で利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">公式プラグイン</td>\n<td align=\"left\"><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruQueryExperimental.js\">Github</a></td>\n</tr>\n<tr>\n<td align=\"left\">ゲームAPI</td>\n<td align=\"left\">以下の「APIでの利用方法」を参考に、直接APIを呼び出してください</td>\n</tr>\n</tbody></table>\n<h3 id=\"-\">公式プラグインの利用方法</h3>\n<p>公式プラグインでクエリパラメータを取得するには以下のようにします。</p>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruQueryExperimental.js\">AtsumaruQueryExperimental.js</a> を右クリックし「保存」して設置</li>\n<li>イベントに <code>AtsumaruQueryExperimental</code> プラグインを設定</li>\n<li>プラグインコマンドでクエリパラメータを取得</li>\n</ol>\n<p><img src=\"https://atsumaru.github.io/api-references/images/copyquery_plugin_sample.png\" alt=\"クエリ情報取得プラグイン利用例\"></p>\n<p>プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>CopyQuery {id1} {id2} ...\nクエリ取得 {id1} {id2} ...</code></pre><p>それぞれの <code>{id}</code> には任意の変数idを指定できます。\n指定した順番に、 <code>param1</code> から <code>param9</code> までのクエリパラメータの値が順番にコピーされます。</p>\n<h4 id=\"-\">プラグインコマンド例</h4>\n<h5 id=\"-10-param1-11-param2-12-param3-\">変数10番にparam1の値を、変数11番にparam2の値を、変数12番にparam3の値をコピーする</h5>\n<pre><code>CopyQuery 10 11 12\nクエリ取得 10 11 12</code></pre><h3 id=\"api-\">APIでの利用方法</h3>\n<p>APIを利用したquery情報取得方法</p>\n<h4 id=\"query-api\">query情報取得API</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.experimental.query[key]</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">引数のkeyに指定した文字列のquery情報を取得します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\">query名を表す文字列</td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\">query名に指定したqueryの値</td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/01/18</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/01/18</td>\n</tr>\n</tbody></table>\n"},"title":"クエリ情報の取得","path":"/copy-query"}}
