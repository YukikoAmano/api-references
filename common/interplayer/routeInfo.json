{"path":"common/interplayer","templateID":1,"sharedPropsHashes":{"apiList":"ZBJJOF"},"localProps":{"reference":{"title":"プレイヤー間通信の有効化","slug":"common/interplayer","description":"特定のプレイヤー間でデータをやり取りできるAPIに必要な、プレイヤー間通信の有効化APIについてです。","order":3,"contents":"<h2 id=\"-\">プレイヤー間通信の有効化とは</h2>\n<p>一部のRPGアツマール ゲームAPIは、ゲームをプレイしているユーザーとは別のユーザーの情報を取得することができます。\nそのようなAPIは、本ページで説明する <strong>「プレイヤー間通信の有効化」</strong> 情報を取得される相手ユーザーが行っている場合のみ、情報の取得が可能です。</p>\n<p>知らないうちに他人から情報を参照されたり、シグナルを送られたりしてしまわないよう、このような仕組みとなっています。</p>\n<p>プレイヤー間通信の有効化は、ユーザーそれぞれがゲームごとに設定できる値です。あるゲームで通信が有効化されているユーザーでも、別のゲームでは改めて有効化しないとそのゲームではそのユーザーの情報に、他のユーザーがアクセスすることはできません。</p>\n<h3 id=\"-api\">呼び出しに有効化が必要なAPI</h3>\n<p>次の相手ユーザーの情報を利用するAPIは、利用の際に相手ユーザーの「プレイヤー間通信の有効化」がされている必要があります。有効化されていないユーザーに対してこれらのAPIを呼び出した場合、 <a href=\"/common/errors\">FORBIDDEN</a> エラーとなります。</p>\n<ul>\n<li><a href=\"/user\">ユーザー情報取得API</a> のうち「ユーザーIDを指定して特定のユーザー情報を取得」</li>\n<li><a href=\"/signal\">シグナル送信API</a> のうち「ユーザーシグナルの送信」</li>\n</ul>\n<h3 id=\"-api\">有効化されていない場合に結果が変化するAPI</h3>\n<p>次の相手ユーザーの情報を利用するAPIは、プレイヤーの有効化状態によって結果が変化します。</p>\n<ul>\n<li><a href=\"/shared-save\">共有セーブAPI</a><ul>\n<li>引数に有効化されていないユーザーIDを含めた場合、そのユーザーのぶんのデータは取得できません。</li>\n</ul>\n</li>\n<li><a href=\"/user\">ユーザー情報取得API</a> のうち「現在のゲームを最近プレイしたユーザーの情報の取得」<ul>\n<li>有効化されているユーザーのリストが取得できます。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\">利用方法</h2>\n<p>有効化APIは次の方法で利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">公式プラグイン</td>\n<td align=\"left\"><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruInterplayerEnableExperimental.js\">Github</a></td>\n</tr>\n<tr>\n<td align=\"left\">ゲームAPI</td>\n<td align=\"left\">以下の「APIでの利用方法」を参考に、直接APIを呼び出してください</td>\n</tr>\n</tbody></table>\n<h3 id=\"-\">公式プラグインの利用方法</h3>\n<p>公式プラグインでプレイヤー間通信を有効化するには以下のようにします。</p>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruInterplayerEnableExperimental.js\">AtsumaruInterplayerEnableExperimental.js</a> を右クリックし「保存」して設置</li>\n<li>イベントからプラグインを利用</li>\n</ol>\n<p>プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>EnableInterplayer\nプレイヤー間通信有効化</code></pre><h3 id=\"api-\">APIでの利用方法</h3>\n<p>APIを利用したプレイヤー間通信の有効化</p>\n<h4 id=\"-\">現在のログインユーザーのプレイヤー間通信の有効化</h4>\n<ul>\n<li>このAPIの利用には<a href=\"/common/login\">ログイン</a>が必須です。</li>\n<li>このAPIは<a href=\"/common/rate-limit\">APIの呼び出し回数制限</a>の対象です。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>RPGAtsumaru.experimental.interplayer.enable()</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">引数</td>\n<td align=\"left\">なし</td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;void&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n</tbody></table>\n<h5 id=\"-\">起こりうるエラーの種類</h5>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/errors\">UNAUTHORIZED</a></td>\n<td align=\"left\">プレイヤーがログインしていない</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n"},"title":"プレイヤー間通信の有効化","path":"/common/interplayer"}}
