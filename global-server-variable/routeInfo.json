{"path":"global-server-variable","templateID":1,"sharedPropsHashes":{"apiList":"ZBJJOF"},"localProps":{"reference":{"title":"グローバルサーバー変数","slug":"global-server-variable","description":"RPGアツマール上で動作するグローバルサーバー変数です。","order":25,"experimental":true,"recommendTheory":true,"contents":"<h2 id=\"-\">概要</h2>\n<p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/concept.png\" alt=\"グローバルサーバー変数の概念図\"></p>\n<p>グローバルサーバー変数はRPGアツマール内で動作する、ゲーム毎にユーザー共通の値をサーバーに記録できる仕組みです。</p>\n<h3 id=\"-\">なにができるのか</h3>\n<p>ユーザー間で共通の値を参照し、トリガーという機能で値を増減・変更させるゲームが作成できます。<br>各ゲームごとに複数個のグローバルサーバー変数が利用できるので、変数ごとに違う値を記録し利用することができます。</p>\n<h4 id=\"-\">利用想定／利用例</h4>\n<p>この機能は、以下のような使い方を想定しています。</p>\n<ul>\n<li>プレイヤーみんなで倒すレイドボス（ボスのHPをグローバルサーバー変数に設定、攻撃をトリガーに設定）</li>\n<li>全プレイヤーでエンディングまで達成した回数カウントアップ（達成をトリガーにし、変数に+1していく）</li>\n<li>毎日100人までしか入れない部屋（一人プレイされるごとにカウントアップしていく変数を制限人数として設定し、毎日0時に0を代入する）</li>\n<li>毎週月曜15時に復活するレイドボス（定期実行(毎週)トリガーで月曜0時に、ボスのHPに最大値を代入する）</li>\n<li>毎月1日だけ実施されるイベント告知を自動的に表示する（定期実行（毎月）トリガーに文字列型でキャンペーン告知を代入し、翌日は空を代入する） </li>\n</ul>\n<p>例えば、次のサンプルゲームではこの機能を利用し、ボスのHPにグローバルサーバー変数を設定しています。</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm9226\">【ゲームAPIサンプル】レイドボス（グローバルサーバー変数API）</a><ul>\n<li><a href=\"/download/sample-projects#RaidBoss\">プロジェクトファイルダウンロードはこちら</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\">機能詳細</h2>\n<ul>\n<li>グローバルサーバー変数を利用するには、<strong><a href=\"/global-server-variable/setting\">グローバルサーバー変数設定画面</a> から変数自体の設定と、対応するトリガーの設定が必要</strong> です。</li>\n<li>新しく変数を作成すると、変数IDが発行されます。IDはすべての変数で一意（ユニーク）の値になっているため、複数の変数を利用したい場合などには、異なるIDで情報の登録・取得を行ってください。</li>\n<li>変数が作成されるとトリガーが作成できるようになります。トリガーIDもすべてのトリガーで一意（ユニーク）の値になっているため、複数のトリガーを利用したい場合などには、異なるIDで情報の登録・取得を行ってください。</li>\n<li>ゲーム内からトリガーIDまたはトリガー名を指定して変数の変更を行うことができます。</li>\n<li>ゲーム内からグローバルサーバー変数IDまたはグローバルサーバー変数名を指定して現在の値を取得することができます。</li>\n<li>グローバルサーバー変数は、 <strong>各ゲーム100個</strong> まで設定可能です。</li>\n</ul>\n<h3 id=\"-\">グローバルサーバ変数の型について</h3>\n<p>グローバルサーバ変数には整数値を入れることができる「数値型」と、文字列を入れることができる「文字列型」の2つが存在します。\nそれぞれ数値のみ、文字列のみを入れることができます。\n変数の型は、変数設定時に選ぶことができます。</p>\n<h3 id=\"-\">トリガーについて</h3>\n<p>グローバルサーバー変数をゲーム側から操作する機能を「トリガー」と呼びます。<br>現在、トリガーは三種類用意されています。\n変数に指定できるトリガーは、変数の型ごとに決まっています。例えば「固定値を増減」トリガーを「文字列型」の変数に対して実行することはできません。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">トリガー</th>\n<th align=\"left\">対象</th>\n<th align=\"left\">詳細</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">固定値を増減</td>\n<td align=\"left\">数値型</td>\n<td align=\"left\">固定値を増減させることができます</td>\n</tr>\n<tr>\n<td align=\"left\">最大値・最小値の範囲で増減</td>\n<td align=\"left\">数値型</td>\n<td align=\"left\">設定した幅の中で可変の値を増減させることができます</td>\n</tr>\n<tr>\n<td align=\"left\">値を代入</td>\n<td align=\"left\">数値型, 文字列型</td>\n<td align=\"left\">グローバルサーバ変数の値をゲーム内から指定した値に変更することができます</td>\n</tr>\n<tr>\n<td align=\"left\">定期実行(毎日)※</td>\n<td align=\"left\">数値型, 文字列型</td>\n<td align=\"left\">毎日特定の時刻にグローバルサーバ変数の値を自動で変更することができます</td>\n</tr>\n<tr>\n<td align=\"left\">定期実行(毎週)※</td>\n<td align=\"left\">数値型, 文字列型</td>\n<td align=\"left\">毎週特定の曜日と時刻にグローバルサーバ変数の値を自動で変更することができます</td>\n</tr>\n<tr>\n<td align=\"left\">定期実行(毎月)※</td>\n<td align=\"left\">数値型, 文字列型</td>\n<td align=\"left\">毎月特定の日時にグローバルサーバ変数の値を自動で変更することができます</td>\n</tr>\n<tr>\n<td align=\"left\">日時指定実行※</td>\n<td align=\"left\">数値型, 文字列型</td>\n<td align=\"left\">特定の日時に1度だけグローバルサーバ変数の値を自動で変更することができます</td>\n</tr>\n</tbody></table>\n<p>※実験的機能のため、動作が不安定になったり、大幅な仕様変更の可能性があります</p>\n<h2 id=\"-\">利用方法</h2>\n<p>グローバルサーバー変数は次の方法で利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/global-server-variable/plugin\">公式プラグイン</a></td>\n<td align=\"left\"><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruGlobalServerVariableExperimental.js\">Github</a></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/global-server-variable/api\">ゲームAPI</a></td>\n<td align=\"left\"><a href=\"/global-server-variable/api\">リファレンス</a>を参考に、直接APIを呼び出してください</td>\n</tr>\n</tbody></table>\n<h2 id=\"-\">関連ドキュメント</h2>\n<ul>\n<li><a href=\"/global-server-variable/setting\">グローバルサーバー変数設定画面を利用する</a></li>\n<li><a href=\"/global-server-variable/plugin\">グローバルサーバー変数プラグインを利用する</a></li>\n<li><a href=\"/global-server-variable/api\">グローバルサーバー変数APIを利用する</a></li>\n</ul>\n"},"title":"グローバルサーバー変数","path":"/global-server-variable"}}
