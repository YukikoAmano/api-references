---
title: グローバルサーバー変数設定画面を利用する
slug: global-server-variable/setting
description: グローバルサーバー変数の設定画面の使用方法を解説します。
order: 1
experimental: true
---


## ゲームAPI設定ページについて
次のURLでAPI設定ページを確認できます。gm[id]部分をご自分のゲームIDに差し替えてください。  
`https://game.nicovideo.jp/atsumaru/games/gm[id]/api-settings/global-server-variables`  
ここで「グローバルサーバー変数の設定」、「トリガーの設定」が利用できます。  

 ![API設定](/images/api_setting.png)  

 ![グローバルサーバー変数設定](/images/global-server-variable/setting.png)
 <a href="/images/global-server-variable/setting.png" target="_blank">拡大表示</a>

## グローバルサーバー変数の設定項目について

設定項目|詳細
:---|:---
変数名|管理しやすいように変数に名前を付けることができます。機能への影響はありません
現在値|現在の値です。ゲーム公開前は初期値を設定します
最小値|変数の最小値を整数で設定します。※
最大値|変数の最大値を整数で設定します。※

※値としてRPGアツマールがサポートしている範囲は `-999,999,999,999,999` ～ `+999,999,999,999,999` です。また文字列型には最大値と最小値は存在しません

## トリガーの設定項目について

「固定値を増減」トリガーと「最大値・最小値の範囲で増減」トリガーと「値を代入」トリガーが利用可能です。

トリガー|設定項目|詳細
:---|:---|:---
固定値を増減|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
|差分|トリガー実行時にグローバルサーバー変数に与える数値を設定します※1
最大値・最小値の範囲で増減|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
|差分の最小値|トリガー実行時にグローバルサーバー変数に与える数値の下限を設定します（これ以下の数値は下限までに切り上げられます）※1
|差分の最大値|トリガー実行時にグローバルサーバー変数に与える数値の上限を設定します（これ以上の数値は上限にまでに切り捨てられます）※1
値を代入|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
定期実行(毎日)※2|時刻|トリガーが発動する時刻を設定できます。現在は各時0分のみ設定可能です
|値|トリガー発動時に加算か代入か、加算なら増加値、代入なら代入値を設定できます
|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
定期実行(毎週)※2|時刻|トリガーが発動する時刻を設定できます。現在は各時0分のみ設定可能です
|曜日|トリガーが発動する曜日(月～日)を設定できます
|値|トリガー発動時に加算か代入か、加算なら増加値、代入なら代入値を設定できます
|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
定期実行(毎月)※2|時刻|トリガーが発動する時刻を設定できます。現在は各時0分のみ設定可能です
|日|トリガーが発動する日(1～31)を設定できます
|値|トリガー発動時に加算か代入か、加算なら増加値、代入なら代入値を設定できます
|メモ|管理しやすいようにメモを設定できます。機能への影響はありません
日時指定実行※2|時刻|トリガーが発動する時刻を設定できます。現在は各時0分のみ設定可能です
|実行日|トリガーが発動する実行日(例: 2019-07-16)を設定できます
|値|トリガー発動時に加算か代入か、加算なら増加値、代入なら代入値を設定できます
|メモ|管理しやすいようにメモを設定できます。機能への影響はありません

※1 値としてRPGアツマールがサポートしている範囲は `-999,999,999,999,999` ～ `+999,999,999,999,999` です。  
※2 実験的機能のため、動作が不安定になったり、大幅な仕様変更の可能性があります

## 定期実行、日時指定実行トリガーの時刻指定と実際の実行に関する注意点

* 値で加算を指定できるのは数値型のみです
* 定期実行(毎月)トリガーで日に29, 30, 31を指定した場合、実行されない月が発生する可能性があります(例えば、31を指定すると2,4,6,9,11月は実行されません)
* 日時指定実行トリガーで過去の日付を指定した場合は実行されません
* トリガーの実行は、指定した時刻から数分ズレる可能性があります。厳密なゲームルールの一部に組み込むことは推奨しません
* メンテナンスや障害等でトリガーが実行されない場合や、トリガーの実行時刻が指定時刻から大きくずれる可能性があります
* トリガーの実行が成功した場合は最終実行日時、失敗した場合はその旨を設定ページで表示しています。失敗した場合は、手動で値を調整するか、次回の実行を待つことになります
