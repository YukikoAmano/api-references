<!DOCTYPE html><html lang="en-US"><head><title data-react-helmet="true">シグナルを送信する - RPGアツマール APIリファレンス</title><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="description" content="RPGアツマールに投稿したゲームから利用可能なAPIのリファレンスです。"/><meta data-react-helmet="true" name="keywords" content="RPGアツマール,RPGツクールMV,自作ゲーム,インディーズゲーム,ゲーム,フリーゲーム,同人ゲーム,無料,niconico"/><meta data-react-helmet="true" property="og:title" content="シグナルを送信する - RPGアツマール APIリファレンス"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://site.nicovideo.jp/atsumaru/declaration/"/><meta data-react-helmet="true" property="og:image" content="https://site.nicovideo.jp/atsumaru/declaration/img/2018/img2.jpg"/><meta data-react-helmet="true" property="og:site_name" content="RPGアツマール"/><meta data-react-helmet="true" property="og:description" content="RPGアツマールに投稿したゲームから利用可能なAPIのリファレンスです。"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@nico_indiesgame"/><link rel="preload" as="script" href="https://atsumaru.github.io/api-references/bootstrap.b6716620.js"/><link rel="preload" as="script" href="https://atsumaru.github.io/api-references/templates/src/containers/Reference.e7f9fdce.js"/><link rel="preload" as="script" href="https://atsumaru.github.io/api-references/main.efcbb296.js"/><link rel="preload" as="style" href="https://atsumaru.github.io/api-references/styles.49d2bd00.css"/><link rel="stylesheet" href="https://atsumaru.github.io/api-references/styles.49d2bd00.css"/><link data-react-helmet="true" rel="icon" href="https://atsumaru.github.io/api-references/static/favicon.cdb3578c.ico"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/></head><body><div id="root"><div class="MainLayout" data-reactroot=""><header class="Header"><nav class="Header__Nav"><a href="http://www.nicovideo.jp/">niconico</a><a href="https://game.nicovideo.jp/atsumaru/">RPGアツマール</a></nav></header><main class="MainLayout__Body"><nav class="MainNavigation"><div class="MainNavigation__LogoContainer"><a class="MainNavigation__Logo active" aria-current="page" href="https://atsumaru.github.io/api-references/"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfoAAABACAYAAADyM7XuAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+ELBwkPCQpe9MsAAAVPSURBVHja7d0/bxtlHAfwOycSEahDByqmorMzFejGUghKp5aKMZkRK0HNS0DlHaQi7B1ROiIoUysq9QVQ0QHiWJUYUCqBSoUEUnMPS1vFTuLz2Xfx/fl8pAxu7lzfPXa+fn7PPc/FUflCzu3jCAAoRMcpAABBDwAIegCgSnKPh98/0+sffrzyrN8b2SRk7D/0+P1vXx/7/y1de1j6MQFAUy1OsU/XaQOAelC6BwBBDwDU0WIBz5FrTD5L3cbk75/pZa4T8OmbobJvgL29vWPPX7fbreyL3tt8K3ujzQfHHtfC9TuZx/X2d59rr4q0V97jOnx+Ztn3JEU9Z5Xb6/En32Ruc3DzaquuhZpXu0/yntSjB4CWE/QAIOgBgDo6box+dAxh7BhB3jH4LP9+/17eXf4c87vfl649vKiZARD09XV2zO+eaWIA2kzpHgAEPQBQR5OU7nPN+/vw791SX/B/P4wfch+Zh38+ynnNAQC0LegZo8qL4TRVd+uPzG32Tvj3Ki+Go72ogkk+I9qrXpTuAUDQAwB1tHjM/eVzPUHZY/KjXvv456HHo2P2o/Pwp1g7v1RFrV18knmtoe24mv2+qkt71YX24lSDPnJ/eQBoLKV7ABD0AEAdHZleN7p2fd4x+xowrx4APXoAoIE9esrV1Ktb23bVrlkAUP2/A7ee5Pu4rDzrN/LzpUcPAI3u0XcWhgfl04OhQfm895uP4+EvRCHM9gVv1uer+rx6ACg16Fee/ro3S7ADkE+3292Jomht0u1DCOuDweB20a9jeXl59eDg4Est0mynXrqP43jsD0DTxXG8EUXRfo7tt3u93rkiAz5Jkrtpmt6N43hViwh6AArU7/f3QwgbOXY5F0LYFvBMYzEamVe++lm+99LzOR/A0m9ncn+Z1uxwvKpdNT3LLIOqz1AYDAa3u93u7WjyEv5akiRr05TwX5bo0zRdVTnVowfglJRdwteDZy5BH0IY+wPQFmWV8AU8evQAFfGiFJ+nHL+WJMnaPAI+hHCv0+lc1mr1cmRlvIObV4ceL1y/k7vHXnQFIJfNB8OPty6NPg4j2xuwAuYqjuONEMJHURSdm3D77V6v91O/399/GfBljsGHEO4tLCzc2N3dvae19OgByGnaEv5p9eAHg8FlId+gHj3lOulK4LxXO1ftiuK2rcFe1PG27R4BnGyaq/DTNF2rUg++an8HVlr8flpeXr6Qpul6FEXrgh6gIvKW8KsS8FQv3NM0fedwj370G1izehhZY/YAFdHv9/eTJNmI43hHwDNLuB+mRw9QIVOU8AW8cB9L0ANUTNklfAHf/HAX9AAVVlYJX8C3J9xzBX3WvPrFzR+HHj/fulLuN92bH8z2BA2ZN1/U1dptu1p+Xue5qa+z7PdPm2clFFnCF/D1lKbpL0U8jx49QEXNWsIX8ESRBXMAKmuKhXReBbyFbtCjb4FHX7+Ruc3SNeepKm49ya6CrzhNrft8TVnC3xbw9XzPXPjin1MJ+qG/NgvX7zyOouj8xE84Mmaf5aD3VdHH1Ox1AYDWmXUtfNpN6R6g4sq6nS2CHoCKKPJ2trTCoyiKbnQ6nXczx+hDHD+NQ/hrzCZnnU+A8inhM0G473Q6nZ3d3d1XU/Mygz7dunIx67tAnleR9/72R9aqH5W9dr154kAjTLGQzssS/rqz165wP8xV9wA1Ms3tbJMkWXtR+qcl4S7oAWpMCV+459lR0APUjBK+cM/1xXCKfQodkz8yjz5rTH70NW9dCiP7G5MHgBdMrwMAQQ8ACHoAoFLmMZ4davAaAUCPHgAQ9ACAoAcAivY/6RWnrHV1g5UAAAAASUVORK5CYII=" alt="RPGアツマール"/>APIリファレンス</a></div><a class="MainNavigationItem" href="https://atsumaru.github.io/api-references/">概要</a><div><a class="MainNavigationItem" title="RPGアツマール ゲームAPI共通の決まりごとについてです。" href="https://atsumaru.github.io/api-references/common"><span class="MainNavigationItem__Text">★ 共通事項</span><button class="MainNavigationItem__Button" data-is-open="false"></button></a><div class="MainNavigationItem__Children" aria-hidden="true"><a class="MainNavigationItem MainNavigationItem--child" title="RPGアツマールのAPIの呼び出し回数の制限についてのリファレンスです。" href="https://atsumaru.github.io/api-references/common/rate-limit"><span class="MainNavigationItem__Text">APIの呼び出し回数制限</span></a><a class="MainNavigationItem MainNavigationItem--child" title="niconicoログインがRPGアツマールのAPIに及ぼす影響について解説します。" href="https://atsumaru.github.io/api-references/common/login"><span class="MainNavigationItem__Text">niconicoログインについて</span></a><a class="MainNavigationItem MainNavigationItem--child" title="特定のプレイヤー間でデータをやり取りできるAPIに必要な、プレイヤー間通信の有効化APIについてです。" href="https://atsumaru.github.io/api-references/common/interplayer"><span class="MainNavigationItem__Text">プレイヤー間通信の有効化</span></a><a class="MainNavigationItem MainNavigationItem--child" title="RPGアツマールのゲームAPIが返すエラーについてのリファレンスです。" href="https://atsumaru.github.io/api-references/common/errors"><span class="MainNavigationItem__Text">エラーハンドリング</span></a><a class="MainNavigationItem MainNavigationItem--child" title="一部のAPIのおすすめの使い方や、使い分け方について解説します。" href="https://atsumaru.github.io/api-references/common/theory"><span class="MainNavigationItem__Text">APIのセオリー</span></a></div></div><div><a class="MainNavigationItem" title="RPGアツマールのコメント機能を利用するにはCommentAPIを利用してください。" href="https://atsumaru.github.io/api-references/comment"><span class="MainNavigationItem__Text">コメントを利用する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="スマートフォンでのゲームプレイ時に、バーチャルコントローラーからの入力を受け取るためのAPIです。" href="https://atsumaru.github.io/api-references/controller"><span class="MainNavigationItem__Text">コントローラーを利用する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="セーブ機能を利用するにはStorageAPIを利用してください。" href="https://atsumaru.github.io/api-references/storage"><span class="MainNavigationItem__Text">セーブを保存する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="マスターボリュームの調整を行うにはVolumeAPIを利用してください。" href="https://atsumaru.github.io/api-references/volume"><span class="MainNavigationItem__Text">マスターボリュームの設定</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマールで外部リンクを設置したい場合は、専用のダイアログを開いてダイアログ内で外部リンクを表示します。" href="https://atsumaru.github.io/api-references/popup"><span class="MainNavigationItem__Text">外部リンクを表示する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマールでURLのquery情報を取得するにはこの機能を利用します。" href="https://atsumaru.github.io/api-references/copy-query"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">クエリ情報の取得</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマールのゲームの作者情報が記載されたダイアログを表示することができます。" href="https://atsumaru.github.io/api-references/creator-modal"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">作者情報を表示する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマール内で動作するゲームのスコア(点数)を記録・取得できる仕組みです。" href="https://atsumaru.github.io/api-references/scoreboard"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">スコアボードを利用する</span><button class="MainNavigationItem__Button" data-is-open="false"></button></a><div class="MainNavigationItem__Children" aria-hidden="true"><a class="MainNavigationItem MainNavigationItem--child" title="スコアボードの設定画面の使用方法を解説します。" href="https://atsumaru.github.io/api-references/scoreboard/setting"><span class="MainNavigationItem__Text">スコアボード設定画面を利用する</span></a><a class="MainNavigationItem MainNavigationItem--child" title="公式プラグインを利用した、スコアボードの利用方法について解説します。" href="https://atsumaru.github.io/api-references/scoreboard/plugin"><span class="MainNavigationItem__Text">スコアボードプラグインを利用する</span></a><a class="MainNavigationItem MainNavigationItem--child" title="RPGアツマール ゲームAPIを使ったスコアボードの利用方法について解説します。" href="https://atsumaru.github.io/api-references/scoreboard/api"><span class="MainNavigationItem__Text">スコアボードAPIを利用する</span></a></div></div><div><a class="MainNavigationItem" title="プレイ中のゲームのスクリーンショットを撮影し、Twitterに投稿することもできる「スクリーンショットモーダル」の表示を行います。" href="https://atsumaru.github.io/api-references/screenshot"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">スクリーンショットをシェアする</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマール上で動作するグローバルサーバー変数です。" href="https://atsumaru.github.io/api-references/global-server-variable"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">グローバルサーバー変数</span><button class="MainNavigationItem__Button" data-is-open="false"></button></a><div class="MainNavigationItem__Children" aria-hidden="true"><a class="MainNavigationItem MainNavigationItem--child" title="グローバルサーバー変数の設定画面の使用方法を解説します。" href="https://atsumaru.github.io/api-references/global-server-variable/setting"><span class="MainNavigationItem__Text">グローバルサーバー変数設定画面を利用する</span></a><a class="MainNavigationItem MainNavigationItem--child" title="公式プラグインを利用した、グローバルサーバー変数の利用方法について解説します。" href="https://atsumaru.github.io/api-references/global-server-variable/plugin"><span class="MainNavigationItem__Text">グローバルサーバー変数プラグインを利用する</span></a><a class="MainNavigationItem MainNavigationItem--child" title="RPGアツマール ゲームAPIを使ったグローバルサーバー変数の利用方法について解説します。" href="https://atsumaru.github.io/api-references/global-server-variable/api"><span class="MainNavigationItem__Text">グローバルサーバー変数APIを利用する</span></a></div></div><div><a class="MainNavigationItem" title="RPGアツマール内で動作する特定のサーバーセーブデータを取得するAPIです" href="https://atsumaru.github.io/api-references/shared-save"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">共有セーブを利用する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="プレイヤー自身のユーザー情報や、他のプレイヤーのユーザー情報にアクセスできます。" href="https://atsumaru.github.io/api-references/user"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">ユーザー情報にアクセスする</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem active" aria-current="page" title="ゲーム内で、他のユーザーと小さなデータ（信号）をやり取りするためのAPIです。" href="https://atsumaru.github.io/api-references/signal"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">シグナルを送信する</span></a><div class="MainNavigationItem__Children" aria-hidden="false"></div></div><div><a class="MainNavigationItem" title="プレイ中のゲームに関するニコニ広告情報を取得します。" href="https://atsumaru.github.io/api-references/nicoad"><svg viewBox="0 0 24 24" class="MainNavigationItem__Icon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span class="MainNavigationItem__Text">ニコニ広告情報を取得する</span></a><div class="MainNavigationItem__Children" aria-hidden="true"></div></div><div><a class="MainNavigationItem" title="RPGアツマールに関するリソースのダウンロードをまとめています。" href="https://atsumaru.github.io/api-references/download"><span class="MainNavigationItem__Text">▼ リソースダウンロード</span><button class="MainNavigationItem__Button" data-is-open="false"></button></a><div class="MainNavigationItem__Children" aria-hidden="true"><a class="MainNavigationItem MainNavigationItem--child" href="https://atsumaru.github.io/api-references/download/sample-projects"><span class="MainNavigationItem__Text">プロジェクトファイル</span></a><a class="MainNavigationItem MainNavigationItem--child" title="ゲーム制作向け素材を配布しています。" href="https://atsumaru.github.io/api-references/download/materials"><span class="MainNavigationItem__Text">ゲーム制作向け素材</span></a><a class="MainNavigationItem MainNavigationItem--child" href="https://atsumaru.github.io/api-references/download/plugins"><span class="MainNavigationItem__Text">プラグイン</span></a><a class="MainNavigationItem MainNavigationItem--child" href="https://atsumaru.github.io/api-references/download/corescript"><span class="MainNavigationItem__Text">コアスクリプト</span></a><a class="MainNavigationItem MainNavigationItem--child" href="https://atsumaru.github.io/api-references/download/corescript-usage"><span class="MainNavigationItem__Text">コアスクリプトの更新方法</span></a></div></div></nav><article class="MainSection markdown-body"><div><div class="Reference__Header"><h1>シグナルを送信する</h1><a class="Reference__EditButton" href="https://github.com/atsumaru/api-references/blob/master/content/collections/apis/signal.md">編集</a></div><div class="Reference__ExperimentalNote"><svg viewBox="0 0 24 24" class="Reference__ExperimentalNoteIcon"><path d="M9 2C8 2 8 3 8 3s0 1 1 1v7.367188l-3.9335938 6.884765c-1.0407086 1.821241-1.11276 3.000196-.7734374 3.763672.3393224.763476 1.0859374.96875 1.0859374.96875.0395749.010135.0802425.015383.1210938.015625h13c.04085-.000242.08152-.005495.121094-.015625 0 0 .746615-.205274 1.085937-.96875.339323-.763476.267272-1.942431-.773437-3.763672L15 11.367188V4s1 0 1-1-1-1-1-1h-1v9.5c.000167.08705.023056.172554.066406.248047l4 7c.959291 1.678759.88724 2.499804.726563 2.861328-.154565.347753-.380331.387021-.398438.390625H5.6054688c-.0181066-.003604-.2438806-.042872-.3984376-.390625-.1606773-.361524-.2327286-1.182569.7265626-2.861328l4-7c.043349-.075492.0662393-.160994.0664062-.248047V2H9zm1 12.5a1 1 0 0 0-1 1c-.1818651-.000015-.3493995.098711-.4375.257812l-2.5 4.5c-.18445.333279.0565842.742177.4375.742188h11c.380916-.000011.62195-.408909.4375-.742188l-2.5-4.5c-.0881-.1591-.255635-.257827-.4375-.257812h-.634766A1 1 0 0 0 13.5 15a1 1 0 0 0-.863281.5H11a1 1 0 0 0-1-1zm4 1.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zm-3.5.5a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.5.5 0 0 1 .5-.5zM13 18a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z"></path></svg><span>この機能は実験的な機能であり、将来仕様が変更される可能性があります。予めご了承ください。</span></div><div><h2>前提</h2>このAPIを利用する際は、APIの活用方法のヒントや使い分け方などについてまとめた<a href="https://atsumaru.github.io/api-references/common/theory">APIのセオリー</a>も合わせてご参照ください。</div><h2 id="概要">概要</h2>
<p>ユーザー間で小さなデータ（信号）をやり取りできる機能です。<br/>シグナルAPIには、そのゲームのプレイヤー全体に対する「グローバルシグナル」と個別ユーザー間の「ユーザーシグナル」があります。  </p>
<p><img src="https://atsumaru.github.io/api-references/images/signal_concept_global.png" alt="グローバルシグナルAPI概念図"/>
<img src="https://atsumaru.github.io/api-references/images/signal_concept_user.png" alt="ユーザーシグナルAPI概念図"/></p>
<h3 id="なにができるのか">なにができるのか</h3>
<ul>
<li>グローバルシグナルは、そのゲームをプレイしているユーザー全体への信号を送信できます。全プレイヤーのプレイログを取得したり、全員アイテムプレゼントなどが可能になります。</li>
<li>ユーザーシグナルは、ユーザーIDで指定した相手に対して信号を送信できます。共有セーブと組み合わせて、所持アイテムの交換や、キャラクターの貸し出しなどが可能になります。</li>
</ul>
<h4 id="-">利用想定／利用例</h4>
<p>この機能は、以下のような使い方を想定しています。</p>
<ul>
<li>グローバルシグナル：全ユーザーの行動ログの送信、全ユーザーへ影響を与える指示</li>
<li>ユーザーシグナル：個別ユーザー間での指示</li>
</ul>
<p>例えば、次のサンプルゲームではグローバルシグナルを利用し、他ユーザーのプレイ状況を表示しています。</p>
<ul>
<li><a href="https://game.nicovideo.jp/atsumaru/games/gm9292" rel="noopener" target="_blank">【ゲームAPIサンプル】プレイローグ（グローバルシグナルAPI・グローバルサーバー変数API）</a><ul>
<li><a href="https://atsumaru.github.io/api-references/download/sample-projects#PlayLog">プロジェクトファイルダウンロードはこちら</a></li>
</ul>
</li>
</ul>
<p>また、こちらのサンプルゲームでは、ユーザーシグナルを利用して、スライムのバトル結果を送信しています。（スライムの情報は<a href="https://atsumaru.github.io/api-references/shared-save">共有セーブ</a>を<a href="https://atsumaru.github.io/api-references/user">最近プレイしたユーザー</a>から取得しています）</p>
<ul>
<li><a href="https://game.nicovideo.jp/atsumaru/games/gm9294" rel="noopener" target="_blank">【ゲームAPIサンプル】スライムバトラー（ユーザーシグナルAPI・共有セーブAPI）</a><ul>
<li><a href="https://atsumaru.github.io/api-references/download/sample-projects#SlimeBattler">プロジェクトファイルダウンロードはこちら</a></li>
</ul>
</li>
</ul>
<h2 id="機能詳細">機能詳細</h2>
<ul>
<li>シグナルとは、最大100byteの任意の文字データです。</li>
<li>受信できるシグナルにはサイズ・個数ともに上限があります。制限を回避するには、なるべく小さなサイズのシグナルを推奨します。</li>
<li>制限詳細<ul>
<li>1シグナルのデータ上限は100byteまでです。</li>
<li>積まれたシグナルは古いシグナルから順々に押し出され削除されます。</li>
<li>グローバルシグナルは、1ゲームあたり1,000件までです。</li>
<li>ユーザーシグナルは、1ユーザーあたり100KBまでです。更にその中で、ゲームあたり1ユーザー1,000件または10KBまでとなります。<ul>
<li>特に100KBまでの制限はゲーム間共通のため、シグナルが他ゲームからのシグナル送受信によって押し出される可能性があります。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="利用方法">利用方法</h2>
<p>シグナル機能は次の方法で利用できます。</p>
<table><thead><tr><th align="left">方法</th><th align="left">場所</th></tr></thead><tbody><tr><td align="left">公式プラグイン</td><td align="left"><ul><li><a href="https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruGlobalSignalExperimental.js" rel="noopener" target="_blank">グローバルシグナル</a></li><li><a href="https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruUserSignalExperimental.js" rel="noopener" target="_blank">ユーザーシグナル</a></li></ul></td></tr><tr><td align="left">ゲームAPI</td><td align="left">以下の「APIでの利用方法」を参考に、直接APIを呼び出してください</td></tr></tbody></table>
<h3 id="公式プラグインの利用方法">公式プラグインの利用方法</h3>
<h4 id="-">グローバルシグナルプラグインの設置方法</h4>
<ol>
<li>プロジェクトのプラグインフォルダに <a href="https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruGlobalSignalExperimental.js" rel="noopener" target="_blank">AtsumaruGlobalSignalExperimental.js</a> を右クリックし「保存」して設置。</li>
<li>プロジェクトのプラグイン設定で <code>AtsumaruGlobalSignalExperimental</code> プラグインをONにする。</li>
<li>プラグイン設定画面で、取得したグローバルシグナルの収納先変数を設定する。</li>
</ol>
<h4 id="-">グローバルシグナルの送信</h4>
<p>変数の値をグローバルシグナルとして送信する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>
<pre><code>SendGlobalSignal {signalDataVariableId}
グローバルシグナル送信 {signalDataVariableId}</code></pre><p>変数{signalDataVariableId}からデータを読み取り、グローバルシグナルとして送信します。</p>
<h4 id="-">グローバルシグナルの取得</h4>
<p>グローバルシグナルを取得して変数に代入する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>
<pre><code>GetGlobalSignal
グローバルシグナル取得</code></pre><p>まだ取得していないグローバルシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。</p>
<ul>
<li>残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。</li>
<li>残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)<ul>
<li>この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。</li>
<li>そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。</li>
</ul>
</li>
</ul>
<h4 id="-">ユーザーシグナルプラグインの設置方法</h4>
<ol>
<li>プロジェクトのプラグインフォルダに <a href="https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruUserSignalExperimental.js" rel="noopener" target="_blank">AtsumaruUserSignalExperimental.js</a> を右クリックし「保存」して設置。</li>
<li>プロジェクトのプラグイン設定で <code>AtsumaruUserSignalExperimental</code> プラグインをONにする。</li>
<li>プラグイン設定画面で、取得したユーザーシグナルの収納先変数を設定する。</li>
</ol>
<h4 id="-">ユーザーシグナルの送信</h4>
<p>変数の値をユーザーシグナルとして送信する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>
<pre><code>SendUserSignal {signalDataVariableId} {userIdVariableId}
ユーザーシグナル送信 {signalDataVariableId} {userIdVariableId}</code></pre><p>変数{signalDataVariableId}からデータを読み取り、それをシグナルとします。変数{userIdVariableId}からユーザーIDを読み取り、そのIDのユーザーにシグナルを送信します。</p>
<h4 id="-">ユーザーシグナルの取得</h4>
<p>ユーザーシグナルを取得して変数に代入する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>
<pre><code>GetUserSignal
ユーザーシグナル取得</code></pre><p>まだ取得していないユーザーシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。</p>
<ul>
<li>残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。</li>
<li>残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)<ul>
<li>この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。</li>
<li>そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。</li>
</ul>
</li>
</ul>
<h3 id="APIでの利用方法">APIでの利用方法</h3>
<h4 id="-">グローバルシグナルの送信</h4>
<table><thead><tr><th align="left">メソッド</th><th align="left"><code>window.RPGAtsumaru.experimental.signal.sendSignalToGlobal(data: string)</code></th></tr></thead><tbody><tr><td align="left">説明</td><td align="left">ゲームのグローバルシグナルとして <code>data</code> で指定した文字列を送信します。</td></tr><tr><td align="left">引数</td><td align="left"><ul><li><code>data</code> : シグナルとして、任意の文字列を100byte以内で送信できます。</li></ul></td></tr><tr><td align="left">戻り値</td><td align="left"><code>Promise&amp;lt;void&gt;</code></td></tr><tr><td align="left">リリース日</td><td align="left">2018/12/17</td></tr><tr><td align="left">更新日</td><td align="left">2018/12/17</td></tr></tbody></table>
<ul>
<li>補足事項<ul>
<li>グローバルシグナルはゲームあたり1,000件まで保存されます。</li>
</ul>
</li>
</ul>
<h5 id="-">起こりうるエラーの種類</h5>
<table><thead><tr><th align="left">名前</th><th align="left">説明</th></tr></thead><tbody><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">UNAUTHORIZED</a></td><td align="left">プレイヤーがログインしていない</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">BAD_REQUEST</a></td><td align="left"><ul><li><code>data</code> に100byte以上の文字列を指定した</li><li>引数として不正な値を指定している</li></ul></td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">INTERNAL_SERVER_ERROR</a></td><td align="left">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">API_CALL_LIMIT_EXCEEDED</a></td><td align="left">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td></tr></tbody></table>
<h4 id="-">グローバルシグナルの取得</h4>
<table><thead><tr><th align="left">メソッド</th><th align="left"><code>window.RPGAtsumaru.experimental.signal.getGlobalSignals()</code></th></tr></thead><tbody><tr><td align="left">説明</td><td align="left">送信されたゲームのグローバルシグナルを取得します。</td></tr><tr><td align="left">引数</td><td align="left"></td></tr><tr><td align="left">戻り値</td><td align="left"><code>Promise&amp;lt;GlobalSignal[]&gt;</code></td></tr><tr><td align="left">リリース日</td><td align="left">2018/12/17</td></tr><tr><td align="left">更新日</td><td align="left">2018/12/17</td></tr></tbody></table>
<ul>
<li>補足事項<ul>
<li>グローバルシグナルはゲームあたり1,000件まで保存されます。</li>
</ul>
</li>
</ul>
<h5 id="-globalsignal-">戻り値の型 GlobalSignal について</h5>
<p>戻り値で取得できる <code>GlobalSignal</code> は以下のような型です。</p>
<pre><code class="language-js">interface GlobalSignal {
    id: number;
    senderId: number;
    senderName: string;
    data: string;
    createdAt: number;
}</code></pre>
<p>プロパティの内容は次のようになっています。</p>
<p>プロパティ名 | 型 | 内容
:---|:---
id | <code>number</code> | シグナルそれぞれでユニークなID値
senderId | <code>number</code> | シグナルを送信したユーザーのニコニコユーザーID
senderName | <code>string</code> | シグナルを送信したユーザーのユーザー名
data | <code>string</code> | 送信したシグナル文字列
createdAt | <code>number</code> | シグナルが送信された日時(秒単位のunix timestamp)。すでに処理済みのシグナルを判別するために用います。</p>
<h5 id="-">戻り値の例</h5>
<pre><code class="language-js">// window.RPGAtsumaru.experimental.storage.getGlobalSignals().then(function(v) { console.log(v) }) を実行
[
  {
    createdAt: 1543397700,
    data: &quot;test data&quot;,
    id: 3,
    senderId: 12345,
    senderName: &quot;user1&quot;
  },
  {
    createdAt: 1543397701,
    data: &quot;test data2&quot;,
    id: 4,
    senderId: 12346,
    senderName: &quot;user2&quot;
  },
]</code></pre>
<h5 id="-">起こりうるエラーの種類</h5>
<table><thead><tr><th align="left">名前</th><th align="left">説明</th></tr></thead><tbody><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">INTERNAL_SERVER_ERROR</a></td><td align="left">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">API_CALL_LIMIT_EXCEEDED</a></td><td align="left">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td></tr></tbody></table>
<h4 id="-">ユーザーシグナルの送信</h4>
<table><thead><tr><th align="left">メソッド</th><th align="left"><code>window.RPGAtsumaru.experimental.signal.sendSignalToUser(receiverId: number, data: string)</code></th></tr></thead><tbody><tr><td align="left">説明</td><td align="left">ユーザーシグナルとして <code>receiverId</code> で指定したユーザーIDのユーザーに <code>data</code> で指定した文字列を送信します。</td></tr><tr><td align="left">引数</td><td align="left"><ul><li><code>receiverId</code> : 送信先のニコニコユーザーIDを指定します。</li><li><code>data</code> : シグナルとして、任意の文字列を100byte以内で送信できます。</li></ul></td></tr><tr><td align="left">戻り値</td><td align="left"><code>Promise&amp;lt;void&gt;</code></td></tr><tr><td align="left">リリース日</td><td align="left">2018/12/17</td></tr><tr><td align="left">更新日</td><td align="left">2018/12/17</td></tr></tbody></table>
<ul>
<li>補足事項<ul>
<li>ユーザーシグナルは、ユーザーあたり100KBまで保存されます。<ul>
<li>他のゲームからのシグナル送信によっても消える可能性があります。</li>
</ul>
</li>
<li>また、ゲームあたり1ユーザー10KBまたは1000件までとなります。<ul>
<li>ゲームからのシグナル送信によって、古いシグナルから消えていきます。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="-">起こりうるエラーの種類</h5>
<table><thead><tr><th align="left">名前</th><th align="left">説明</th></tr></thead><tbody><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">UNAUTHORIZED</a></td><td align="left">プレイヤーがログインしていない</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">FORBIDDEN</a></td><td align="left"><code>userId</code> に<a href="https://atsumaru.github.io/api-references/common/interplayer">プレイヤー間通信の有効化</a>を行っていないユーザーのIDを指定した</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">BAD_REQUEST</a></td><td align="left"><ul><li><code>data</code> に100byte以上の文字列を指定した</li><li>引数として不正な値を指定している</li></ul></td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">INTERNAL_SERVER_ERROR</a></td><td align="left">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">API_CALL_LIMIT_EXCEEDED</a></td><td align="left">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td></tr></tbody></table>
<h4 id="-">ユーザーシグナルの取得</h4>
<table><thead><tr><th align="left">メソッド</th><th align="left"><code>window.RPGAtsumaru.experimental.signal.getUserSignals()</code></th></tr></thead><tbody><tr><td align="left">説明</td><td align="left">プレイしているユーザーのユーザーシグナルを取得します。</td></tr><tr><td align="left">引数</td><td align="left"></td></tr><tr><td align="left">戻り値</td><td align="left"><code>Promise&amp;lt;UserSignal[]&gt;</code></td></tr><tr><td align="left">リリース日</td><td align="left">2018/12/17</td></tr><tr><td align="left">更新日</td><td align="left">2018/12/17</td></tr></tbody></table>
<ul>
<li>補足事項<ul>
<li>ユーザーシグナルは、ユーザーあたり100KBまで保存されます。<ul>
<li>他のゲームからのシグナル送信によっても消える可能性があります。</li>
</ul>
</li>
<li>また、ゲームあたり1ユーザー10KBまたは1000件までとなります。<ul>
<li>ゲームからのシグナル送信によって、古いシグナルから消えていきます。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="-usersignal-">戻り値の型 UserSignal について</h5>
<p>戻り値で取得できる <code>UserSignal</code> は以下のような型です。</p>
<pre><code class="language-js">interface UserSignal {
    id: number;
    senderId: number;
    senderName: string;
    data: string;
    createdAt: number;
}</code></pre>
<p>プロパティの内容は次のようになっています。</p>
<table><thead><tr><th align="left">プロパティ名</th><th align="left">内容</th></tr></thead><tbody><tr><td align="left">id</td><td align="left"><code>number</code></td></tr><tr><td align="left">senderId</td><td align="left"><code>number</code></td></tr><tr><td align="left">senderName</td><td align="left"><code>string</code></td></tr><tr><td align="left">data</td><td align="left"><code>string</code></td></tr><tr><td align="left">createdAt</td><td align="left"><code>number</code></td></tr></tbody></table>
<h5 id="-">戻り値の例</h5>
<pre><code class="language-js">// window.RPGAtsumaru.experimental.signal.getUserSignals().then(function(v) { console.log(v) }) を実行
[
  {
    createdAt: 1543397700,
    data: &quot;test data&quot;,
    id: 3,
    senderId: 12345,
    senderName: &quot;user1&quot;
  },
  {
    createdAt: 1543397701,
    data: &quot;test data2&quot;,
    id: 4,
    senderId: 12346,
    senderName: &quot;user2&quot;
  },
]</code></pre>
<h5 id="-">起こりうるエラーの種類</h5>
<table><thead><tr><th align="left">名前</th><th align="left">説明</th></tr></thead><tbody><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">UNAUTHORIZED</a></td><td align="left">プレイヤーがログインしていない</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">INTERNAL_SERVER_ERROR</a></td><td align="left">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td></tr><tr><td align="left"><a href="https://atsumaru.github.io/api-references/common/errors">API_CALL_LIMIT_EXCEEDED</a></td><td align="left">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td></tr></tbody></table></div></article></main><footer class="Footer"><nav class="Footer__Nav"><a href="https://game.nicovideo.jp/atsumaru/">RPGアツマール に戻る</a></nav><span>©DWANGO Co., Ltd.</span></footer></div></div><script type="text/javascript">window.__CSS_CHUNKS__ = {"main":"https://atsumaru.github.io/api-references/styles.49d2bd00.css"}</script><script type="text/javascript">
    window.__routeInfo = {"path":"signal","templateID":1,"sharedPropsHashes":{"apiList":"16v79X"},"localProps":null,"allProps":{"apiList":[{"title":"★ 共通事項","slug":"common","description":"RPGアツマール ゲームAPI共通の決まりごとについてです。","order":-999,"children":[{"title":"APIの呼び出し回数制限","slug":"common/rate-limit","description":"RPGアツマールのAPIの呼び出し回数の制限についてのリファレンスです。","order":1},{"title":"niconicoログインについて","slug":"common/login","description":"niconicoログインがRPGアツマールのAPIに及ぼす影響について解説します。","order":2},{"title":"プレイヤー間通信の有効化","slug":"common/interplayer","description":"特定のプレイヤー間でデータをやり取りできるAPIに必要な、プレイヤー間通信の有効化APIについてです。","order":3},{"title":"エラーハンドリング","slug":"common/errors","description":"RPGアツマールのゲームAPIが返すエラーについてのリファレンスです。","order":4},{"title":"APIのセオリー","slug":"common/theory","description":"一部のAPIのおすすめの使い方や、使い分け方について解説します。","order":5}]},{"title":"コメントを利用する","slug":"comment","description":"RPGアツマールのコメント機能を利用するにはCommentAPIを利用してください。","order":10,"children":[]},{"title":"コントローラーを利用する","slug":"controller","description":"スマートフォンでのゲームプレイ時に、バーチャルコントローラーからの入力を受け取るためのAPIです。","order":11,"children":[]},{"title":"セーブを保存する","slug":"storage","description":"セーブ機能を利用するにはStorageAPIを利用してください。","order":12,"children":[]},{"title":"マスターボリュームの設定","slug":"volume","description":"マスターボリュームの調整を行うにはVolumeAPIを利用してください。","order":13,"children":[]},{"title":"外部リンクを表示する","slug":"popup","description":"RPGアツマールで外部リンクを設置したい場合は、専用のダイアログを開いてダイアログ内で外部リンクを表示します。","order":20,"children":[]},{"title":"クエリ情報の取得","slug":"copy-query","description":"RPGアツマールでURLのquery情報を取得するにはこの機能を利用します。","order":21,"experimental":true,"children":[]},{"title":"作者情報を表示する","slug":"creator-modal","description":"RPGアツマールのゲームの作者情報が記載されたダイアログを表示することができます。","order":22,"experimental":true,"children":[]},{"title":"スコアボードを利用する","slug":"scoreboard","description":"RPGアツマール内で動作するゲームのスコア(点数)を記録・取得できる仕組みです。","order":23,"experimental":true,"children":[{"title":"スコアボード設定画面を利用する","slug":"scoreboard/setting","description":"スコアボードの設定画面の使用方法を解説します。","order":1,"experimental":true},{"title":"スコアボードプラグインを利用する","slug":"scoreboard/plugin","description":"公式プラグインを利用した、スコアボードの利用方法について解説します。","order":2,"experimental":true},{"title":"スコアボードAPIを利用する","slug":"scoreboard/api","description":"RPGアツマール ゲームAPIを使ったスコアボードの利用方法について解説します。","order":3,"experimental":true}]},{"title":"スクリーンショットをシェアする","slug":"screenshot","description":"プレイ中のゲームのスクリーンショットを撮影し、Twitterに投稿することもできる「スクリーンショットモーダル」の表示を行います。","order":24,"experimental":true,"children":[]},{"title":"グローバルサーバー変数","slug":"global-server-variable","description":"RPGアツマール上で動作するグローバルサーバー変数です。","order":25,"experimental":true,"recommendTheory":true,"children":[{"title":"グローバルサーバー変数設定画面を利用する","slug":"global-server-variable/setting","description":"グローバルサーバー変数の設定画面の使用方法を解説します。","order":1,"experimental":true},{"title":"グローバルサーバー変数プラグインを利用する","slug":"global-server-variable/plugin","description":"公式プラグインを利用した、グローバルサーバー変数の利用方法について解説します。","order":2,"experimental":true},{"title":"グローバルサーバー変数APIを利用する","slug":"global-server-variable/api","description":"RPGアツマール ゲームAPIを使ったグローバルサーバー変数の利用方法について解説します。","order":3,"experimental":true}]},{"title":"共有セーブを利用する","slug":"shared-save","description":"RPGアツマール内で動作する特定のサーバーセーブデータを取得するAPIです","order":26,"experimental":true,"recommendTheory":true,"children":[]},{"title":"ユーザー情報にアクセスする","slug":"user","description":"プレイヤー自身のユーザー情報や、他のプレイヤーのユーザー情報にアクセスできます。","order":27,"experimental":true,"recommendTheory":true,"children":[]},{"title":"シグナルを送信する","slug":"signal","description":"ゲーム内で、他のユーザーと小さなデータ（信号）をやり取りするためのAPIです。","order":28,"experimental":true,"recommendTheory":true,"children":[]},{"title":"ニコニ広告情報を取得する","slug":"nicoad","description":"プレイ中のゲームに関するニコニ広告情報を取得します。","order":29,"experimental":true,"children":[]},{"title":"▼ リソースダウンロード","slug":"download","description":"RPGアツマールに関するリソースのダウンロードをまとめています。","order":9999,"children":[{"title":"プロジェクトファイル","slug":"download/sample-projects","description":null,"order":1},{"title":"ゲーム制作向け素材","slug":"download/materials","description":"ゲーム制作向け素材を配布しています。","order":2},{"title":"プラグイン","slug":"download/plugins","description":null,"order":3},{"title":"コアスクリプト","slug":"download/corescript","description":null,"order":4},{"title":"コアスクリプトの更新方法","slug":"download/corescript-usage","description":null,"order":5}]}],"reference":{"title":"シグナルを送信する","slug":"signal","description":"ゲーム内で、他のユーザーと小さなデータ（信号）をやり取りするためのAPIです。","order":28,"experimental":true,"recommendTheory":true,"contents":"<h2 id=\"-\">概要</h2>\n<p>ユーザー間で小さなデータ（信号）をやり取りできる機能です。<br>シグナルAPIには、そのゲームのプレイヤー全体に対する「グローバルシグナル」と個別ユーザー間の「ユーザーシグナル」があります。  </p>\n<p><img src=\"https://atsumaru.github.io/api-references/images/signal_concept_global.png\" alt=\"グローバルシグナルAPI概念図\">\n<img src=\"https://atsumaru.github.io/api-references/images/signal_concept_user.png\" alt=\"ユーザーシグナルAPI概念図\"></p>\n<h3 id=\"-\">なにができるのか</h3>\n<ul>\n<li>グローバルシグナルは、そのゲームをプレイしているユーザー全体への信号を送信できます。全プレイヤーのプレイログを取得したり、全員アイテムプレゼントなどが可能になります。</li>\n<li>ユーザーシグナルは、ユーザーIDで指定した相手に対して信号を送信できます。共有セーブと組み合わせて、所持アイテムの交換や、キャラクターの貸し出しなどが可能になります。</li>\n</ul>\n<h4 id=\"-\">利用想定／利用例</h4>\n<p>この機能は、以下のような使い方を想定しています。</p>\n<ul>\n<li>グローバルシグナル：全ユーザーの行動ログの送信、全ユーザーへ影響を与える指示</li>\n<li>ユーザーシグナル：個別ユーザー間での指示</li>\n</ul>\n<p>例えば、次のサンプルゲームではグローバルシグナルを利用し、他ユーザーのプレイ状況を表示しています。</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm9292\">【ゲームAPIサンプル】プレイローグ（グローバルシグナルAPI・グローバルサーバー変数API）</a><ul>\n<li><a href=\"/download/sample-projects#PlayLog\">プロジェクトファイルダウンロードはこちら</a></li>\n</ul>\n</li>\n</ul>\n<p>また、こちらのサンプルゲームでは、ユーザーシグナルを利用して、スライムのバトル結果を送信しています。（スライムの情報は<a href=\"/shared-save\">共有セーブ</a>を<a href=\"/user\">最近プレイしたユーザー</a>から取得しています）</p>\n<ul>\n<li><a href=\"https://game.nicovideo.jp/atsumaru/games/gm9294\">【ゲームAPIサンプル】スライムバトラー（ユーザーシグナルAPI・共有セーブAPI）</a><ul>\n<li><a href=\"/download/sample-projects#SlimeBattler\">プロジェクトファイルダウンロードはこちら</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\">機能詳細</h2>\n<ul>\n<li>シグナルとは、最大100byteの任意の文字データです。</li>\n<li>受信できるシグナルにはサイズ・個数ともに上限があります。制限を回避するには、なるべく小さなサイズのシグナルを推奨します。</li>\n<li>制限詳細<ul>\n<li>1シグナルのデータ上限は100byteまでです。</li>\n<li>積まれたシグナルは古いシグナルから順々に押し出され削除されます。</li>\n<li>グローバルシグナルは、1ゲームあたり1,000件までです。</li>\n<li>ユーザーシグナルは、1ユーザーあたり100KBまでです。更にその中で、ゲームあたり1ユーザー1,000件または10KBまでとなります。<ul>\n<li>特に100KBまでの制限はゲーム間共通のため、シグナルが他ゲームからのシグナル送受信によって押し出される可能性があります。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-\">利用方法</h2>\n<p>シグナル機能は次の方法で利用できます。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">方法</th>\n<th align=\"left\">場所</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">公式プラグイン</td>\n<td align=\"left\"><ul><li><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruGlobalSignalExperimental.js\">グローバルシグナル</a></li><li><a href=\"https://github.com/atsumaru/mv-plugins/blob/master/plugins/AtsumaruUserSignalExperimental.js\">ユーザーシグナル</a></li></ul></td>\n</tr>\n<tr>\n<td align=\"left\">ゲームAPI</td>\n<td align=\"left\">以下の「APIでの利用方法」を参考に、直接APIを呼び出してください</td>\n</tr>\n</tbody></table>\n<h3 id=\"-\">公式プラグインの利用方法</h3>\n<h4 id=\"-\">グローバルシグナルプラグインの設置方法</h4>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruGlobalSignalExperimental.js\">AtsumaruGlobalSignalExperimental.js</a> を右クリックし「保存」して設置。</li>\n<li>プロジェクトのプラグイン設定で <code>AtsumaruGlobalSignalExperimental</code> プラグインをONにする。</li>\n<li>プラグイン設定画面で、取得したグローバルシグナルの収納先変数を設定する。</li>\n</ol>\n<h4 id=\"-\">グローバルシグナルの送信</h4>\n<p>変数の値をグローバルシグナルとして送信する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>SendGlobalSignal {signalDataVariableId}\nグローバルシグナル送信 {signalDataVariableId}</code></pre><p>変数{signalDataVariableId}からデータを読み取り、グローバルシグナルとして送信します。</p>\n<h4 id=\"-\">グローバルシグナルの取得</h4>\n<p>グローバルシグナルを取得して変数に代入する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>GetGlobalSignal\nグローバルシグナル取得</code></pre><p>まだ取得していないグローバルシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。</p>\n<ul>\n<li>残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。</li>\n<li>残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)<ul>\n<li>この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。</li>\n<li>そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"-\">ユーザーシグナルプラグインの設置方法</h4>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruUserSignalExperimental.js\">AtsumaruUserSignalExperimental.js</a> を右クリックし「保存」して設置。</li>\n<li>プロジェクトのプラグイン設定で <code>AtsumaruUserSignalExperimental</code> プラグインをONにする。</li>\n<li>プラグイン設定画面で、取得したユーザーシグナルの収納先変数を設定する。</li>\n</ol>\n<h4 id=\"-\">ユーザーシグナルの送信</h4>\n<p>変数の値をユーザーシグナルとして送信する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>SendUserSignal {signalDataVariableId} {userIdVariableId}\nユーザーシグナル送信 {signalDataVariableId} {userIdVariableId}</code></pre><p>変数{signalDataVariableId}からデータを読み取り、それをシグナルとします。変数{userIdVariableId}からユーザーIDを読み取り、そのIDのユーザーにシグナルを送信します。</p>\n<h4 id=\"-\">ユーザーシグナルの取得</h4>\n<p>ユーザーシグナルを取得して変数に代入する場合、プラグインコマンドは次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>GetUserSignal\nユーザーシグナル取得</code></pre><p>まだ取得していないユーザーシグナルの中で最も古いものを一件読み込み、プラグイン設定で指定した変数に代入します。また、取得後に今回取得したものを含めた残りのシグナルの個数が「残シグナル数」にセットされます。</p>\n<ul>\n<li>残シグナル数が0だった場合は、サーバーに未取得のシグナルがなかったため、シグナルデータと送信者のユーザーID/名前には0がセットされています。</li>\n<li>残シグナル数が0または1だった場合は、次に取得コマンドを実行するときに新たなシグナルの受信を試みます。(2以上の場合はすでに受信したデータを返すため、新たに受信はしません)<ul>\n<li>この際、短期間の連続受信にはプラグインで制限をかけているため、時間がかかることがあります。</li>\n<li>そのため、取得コマンドの待ち時間を短くしたい場合は、残シグナル数が0または1のときは次の取得コマンドの実行までに１０秒以上の時間を空けてください。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"api-\">APIでの利用方法</h3>\n<h4 id=\"-\">グローバルシグナルの送信</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.experimental.signal.sendSignalToGlobal(data: string)</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">ゲームのグローバルシグナルとして <code>data</code> で指定した文字列を送信します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\"><ul><li><code>data</code> : シグナルとして、任意の文字列を100byte以内で送信できます。</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;void&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n</tbody></table>\n<ul>\n<li>補足事項<ul>\n<li>グローバルシグナルはゲームあたり1,000件まで保存されます。</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"-\">起こりうるエラーの種類</h5>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/errors\">UNAUTHORIZED</a></td>\n<td align=\"left\">プレイヤーがログインしていない</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">BAD_REQUEST</a></td>\n<td align=\"left\"><ul><li><code>data</code> に100byte以上の文字列を指定した</li><li>引数として不正な値を指定している</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n<h4 id=\"-\">グローバルシグナルの取得</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.experimental.signal.getGlobalSignals()</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">送信されたゲームのグローバルシグナルを取得します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;GlobalSignal[]&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n</tbody></table>\n<ul>\n<li>補足事項<ul>\n<li>グローバルシグナルはゲームあたり1,000件まで保存されます。</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"-globalsignal-\">戻り値の型 GlobalSignal について</h5>\n<p>戻り値で取得できる <code>GlobalSignal</code> は以下のような型です。</p>\n<pre><code class=\"language-js\">interface GlobalSignal {\n    id: number;\n    senderId: number;\n    senderName: string;\n    data: string;\n    createdAt: number;\n}</code></pre>\n<p>プロパティの内容は次のようになっています。</p>\n<p>プロパティ名 | 型 | 内容\n:---|:---\nid | <code>number</code> | シグナルそれぞれでユニークなID値\nsenderId | <code>number</code> | シグナルを送信したユーザーのニコニコユーザーID\nsenderName | <code>string</code> | シグナルを送信したユーザーのユーザー名\ndata | <code>string</code> | 送信したシグナル文字列\ncreatedAt | <code>number</code> | シグナルが送信された日時(秒単位のunix timestamp)。すでに処理済みのシグナルを判別するために用います。</p>\n<h5 id=\"-\">戻り値の例</h5>\n<pre><code class=\"language-js\">// window.RPGAtsumaru.experimental.storage.getGlobalSignals().then(function(v) { console.log(v) }) を実行\n[\n  {\n    createdAt: 1543397700,\n    data: &quot;test data&quot;,\n    id: 3,\n    senderId: 12345,\n    senderName: &quot;user1&quot;\n  },\n  {\n    createdAt: 1543397701,\n    data: &quot;test data2&quot;,\n    id: 4,\n    senderId: 12346,\n    senderName: &quot;user2&quot;\n  },\n]</code></pre>\n<h5 id=\"-\">起こりうるエラーの種類</h5>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/errors\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n<h4 id=\"-\">ユーザーシグナルの送信</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.experimental.signal.sendSignalToUser(receiverId: number, data: string)</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">ユーザーシグナルとして <code>receiverId</code> で指定したユーザーIDのユーザーに <code>data</code> で指定した文字列を送信します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\"><ul><li><code>receiverId</code> : 送信先のニコニコユーザーIDを指定します。</li><li><code>data</code> : シグナルとして、任意の文字列を100byte以内で送信できます。</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;void&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n</tbody></table>\n<ul>\n<li>補足事項<ul>\n<li>ユーザーシグナルは、ユーザーあたり100KBまで保存されます。<ul>\n<li>他のゲームからのシグナル送信によっても消える可能性があります。</li>\n</ul>\n</li>\n<li>また、ゲームあたり1ユーザー10KBまたは1000件までとなります。<ul>\n<li>ゲームからのシグナル送信によって、古いシグナルから消えていきます。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"-\">起こりうるエラーの種類</h5>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/errors\">UNAUTHORIZED</a></td>\n<td align=\"left\">プレイヤーがログインしていない</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">FORBIDDEN</a></td>\n<td align=\"left\"><code>userId</code> に<a href=\"/common/interplayer\">プレイヤー間通信の有効化</a>を行っていないユーザーのIDを指定した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">BAD_REQUEST</a></td>\n<td align=\"left\"><ul><li><code>data</code> に100byte以上の文字列を指定した</li><li>引数として不正な値を指定している</li></ul></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n<h4 id=\"-\">ユーザーシグナルの取得</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">メソッド</th>\n<th align=\"left\"><code>window.RPGAtsumaru.experimental.signal.getUserSignals()</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">説明</td>\n<td align=\"left\">プレイしているユーザーのユーザーシグナルを取得します。</td>\n</tr>\n<tr>\n<td align=\"left\">引数</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">戻り値</td>\n<td align=\"left\"><code>Promise&lt;UserSignal[]&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\">リリース日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n<tr>\n<td align=\"left\">更新日</td>\n<td align=\"left\">2018/12/17</td>\n</tr>\n</tbody></table>\n<ul>\n<li>補足事項<ul>\n<li>ユーザーシグナルは、ユーザーあたり100KBまで保存されます。<ul>\n<li>他のゲームからのシグナル送信によっても消える可能性があります。</li>\n</ul>\n</li>\n<li>また、ゲームあたり1ユーザー10KBまたは1000件までとなります。<ul>\n<li>ゲームからのシグナル送信によって、古いシグナルから消えていきます。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"-usersignal-\">戻り値の型 UserSignal について</h5>\n<p>戻り値で取得できる <code>UserSignal</code> は以下のような型です。</p>\n<pre><code class=\"language-js\">interface UserSignal {\n    id: number;\n    senderId: number;\n    senderName: string;\n    data: string;\n    createdAt: number;\n}</code></pre>\n<p>プロパティの内容は次のようになっています。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">プロパティ名</th>\n<th align=\"left\">内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">id</td>\n<td align=\"left\"><code>number</code></td>\n</tr>\n<tr>\n<td align=\"left\">senderId</td>\n<td align=\"left\"><code>number</code></td>\n</tr>\n<tr>\n<td align=\"left\">senderName</td>\n<td align=\"left\"><code>string</code></td>\n</tr>\n<tr>\n<td align=\"left\">data</td>\n<td align=\"left\"><code>string</code></td>\n</tr>\n<tr>\n<td align=\"left\">createdAt</td>\n<td align=\"left\"><code>number</code></td>\n</tr>\n</tbody></table>\n<h5 id=\"-\">戻り値の例</h5>\n<pre><code class=\"language-js\">// window.RPGAtsumaru.experimental.signal.getUserSignals().then(function(v) { console.log(v) }) を実行\n[\n  {\n    createdAt: 1543397700,\n    data: &quot;test data&quot;,\n    id: 3,\n    senderId: 12345,\n    senderName: &quot;user1&quot;\n  },\n  {\n    createdAt: 1543397701,\n    data: &quot;test data2&quot;,\n    id: 4,\n    senderId: 12346,\n    senderName: &quot;user2&quot;\n  },\n]</code></pre>\n<h5 id=\"-\">起こりうるエラーの種類</h5>\n<table>\n<thead>\n<tr>\n<th align=\"left\">名前</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><a href=\"/common/errors\">UNAUTHORIZED</a></td>\n<td align=\"left\">プレイヤーがログインしていない</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">INTERNAL_SERVER_ERROR</a></td>\n<td align=\"left\">RPGアツマールのサービス側で何らかの問題が発生しているか、または通信に失敗した</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"/common/errors\">API_CALL_LIMIT_EXCEEDED</a></td>\n<td align=\"left\">短時間にゲームAPIを利用しすぎて、一時的に利用を制限されている</td>\n</tr>\n</tbody></table>\n"},"title":"シグナルを送信する","path":"/signal"},"siteData":{}};</script><script defer="" type="text/javascript" src="https://atsumaru.github.io/api-references/bootstrap.b6716620.js"></script><script defer="" type="text/javascript" src="https://atsumaru.github.io/api-references/templates/src/containers/Reference.e7f9fdce.js"></script><script defer="" type="text/javascript" src="https://atsumaru.github.io/api-references/main.efcbb296.js"></script></body></html>