{"path":"global-server-variable/plugin","templateID":1,"sharedPropsHashes":{"apiList":"16v79X"},"localProps":{"reference":{"title":"グローバルサーバー変数プラグインを利用する","slug":"global-server-variable/plugin","description":"公式プラグインを利用した、グローバルサーバー変数の利用方法について解説します。","order":2,"experimental":true,"contents":"<h2 id=\"-\">公式プラグインの利用方法</h2>\n<p>公式プラグインでグローバルサーバー変数を利用するには次のようにします。</p>\n<ol>\n<li>プロジェクトのプラグインフォルダに <a href=\"https://raw.githubusercontent.com/atsumaru/mv-plugins/master/plugins/AtsumaruGlobalServerVariableExperimental.js\">AtsumaruGlobalServerVariableExperimental.js</a> を右クリックし「保存」して設置</li>\n<li>プラグインの設定で「現在値」「最大値」「最小値」「変数名」「エラーメッセージ」の代入先の変数IDを設定</li>\n<li><a href=\"/global-server-variable/setting\">グローバルサーバー変数設定画面</a>でグローバルサーバー変数とトリガーを設定</li>\n<li>プラグインコマンドでグローバルサーバー変数の取得 or トリガー発動</li>\n</ol>\n<p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/plugin_setting.png\" alt=\"プラグインの設定\"></p>\n<h2 id=\"-\">グローバルサーバー変数の取得</h2>\n<h3 id=\"-\">プラグインコマンドの実行</h3>\n<p>公式プラグインを利用してグローバルサーバー変数の情報を変数に格納するには、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>GetGlobalServerVariable {globalServerVariableId}\nグローバルサーバー変数取得 {globalServerVariableId}</code></pre><p><code>{globalServerVariableId}</code>には取得したいグローバルサーバー変数IDを指定します。</p>\n<ul>\n<li>実行に成功すると、プラグインの設定で指定した変数に「現在値」「最大値」「最小値」「変数名」がの値が代入されます。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<p>例：グローバルサーバー変数ID 1234 の現在値を取得</p>\n<pre><code>グローバルサーバー変数取得 1234</code></pre><p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/plugin_command_get.png\" alt=\"グローバルサーバー変数取得\"></p>\n<h2 id=\"-\">グローバルサーバー変数の取得(名前指定型)</h2>\n<h3 id=\"-\">プラグインコマンドの実行</h3>\n<p>名前を指定してグローバルサーバー変数の情報を変数に格納するには、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>GetGlobalServerVariableByName {globalServerVariableName}\n名前でグローバルサーバー変数取得 {globalServerVariableName}</code></pre><p><code>{globalServerVariableName}</code>には取得したいグローバルサーバー変数名を指定します。</p>\n<ul>\n<li>実行に成功すると、プラグインの設定で指定した変数に「現在値」「最大値」「最小値」「変数名」がの値が代入されます。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<p>例：グローバルサーバー変数名 文字列変数1 の現在値を取得</p>\n<pre><code>名前でグローバルサーバー変数取得 文字列変数1</code></pre><p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/plugin_command_get_byname.jpg\" alt=\"グローバルサーバー変数取得\"></p>\n<h2 id=\"-\">トリガー発動</h2>\n<h3 id=\"-\">「固定値を増減」トリガーの実行</h3>\n<p>公式プラグインを利用して「固定値を増減」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCall {triggerId}\nトリガー発動 {triggerId}</code></pre><p><code>{triggerId}</code>には発動したいトリガーのIDを半角数字で指定してください。</p>\n<ul>\n<li>実行に成功すると、<a href=\"/global-server-variable/setting\">グローバルサーバー変数設定画面</a>で指定された値だけグローバルサーバー変数の値が増加します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/plugin_command_trigger.png\" alt=\"トリガー発動\"></p>\n<h3 id=\"-\">「最大値・最小値の範囲で増減」トリガーの実行</h3>\n<p>公式プラグインを利用して「最大値・最小値の範囲で増減」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCall {triggerId} {deltaVariableId}\nトリガー発動 {triggerId} {deltaVariableId}</code></pre><p><code>{triggerId}</code>には発動したいトリガーのIDを半角数字で指定してください。 <code>{deltaVariableId}</code> には増減させる値が代入された変数のIDを指定してください。</p>\n<ul>\n<li>実行に成功すると、引数で指定された値だけグローバルサーバー変数の値が増加します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<h3 id=\"-\">「値を代入」トリガーの実行</h3>\n<p>公式プラグインを利用して「値を代入」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCall {triggerId} {valueVariableId}\nトリガー発動 {triggerId} {valueVariableId}</code></pre><p><code>{triggerId}</code>には発動したいトリガーのIDを半角数字で指定してください。 <code>{valueVariableId}</code> には代入させる値が代入された変数のIDを指定してください。</p>\n<ul>\n<li>実行に成功すると、引数で指定された値だけグローバルサーバー変数の値が変化します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<h2 id=\"-\">トリガー発動(名前指定型)</h2>\n<h3 id=\"-\">「固定値を増減」トリガーの実行</h3>\n<p>公式プラグインを利用して「固定値を増減」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCallByName {globalServerVariableName} {triggerName}\n名前でトリガー発動 {globalServerVariableName} {triggerName}</code></pre><p><code>{globalServerVariableName}</code>には発動したいトリガーに紐づいた変数の名前を指定してください。<code>{triggerName}</code>には発動したいトリガーの名前を指定してください。</p>\n<ul>\n<li>実行に成功すると、<a href=\"/global-server-variable/setting\">グローバルサーバー変数設定画面</a>で指定された値だけグローバルサーバー変数の値が増加します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<p><img src=\"https://atsumaru.github.io/api-references/images/global-server-variable/plugin_command_trigger_byname.jpg\" alt=\"トリガー発動\"></p>\n<h3 id=\"-\">「最大値・最小値の範囲で増減」トリガーの実行</h3>\n<p>公式プラグインを利用して「最大値・最小値の範囲で増減」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCallByName {globalServerVariableName} {triggerName} {deltaVariableId}\n名前でトリガー発動 {globalServerVariableName} {triggerName} {deltaVariableId}</code></pre><p><code>{globalServerVariableName}</code>には発動したいトリガーに紐づいた変数の名前を指定してください。<code>{triggerName}</code>には発動したいトリガーの名前を指定してください。 <code>{deltaVariableId}</code> には増減させる値が代入された変数のIDを指定してください。</p>\n<ul>\n<li>実行に成功すると、引数で指定された値だけグローバルサーバー変数の値が増加します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n<h3 id=\"-\">「値を代入」トリガーの実行</h3>\n<p>公式プラグインを利用して「値を代入」トリガーを発動させる場合、プラグインコマンドで次のいずれかのように指定します。（どちらでも動作は同じです）</p>\n<pre><code>TriggerCallByName {globalServerVariableName} {triggerName} {valueVariableId}\n名前でトリガー発動 {globalServerVariableName} {triggerName} {valueVariableId}</code></pre><p><code>{globalServerVariableName}</code>には発動したいトリガーに紐づいた変数の名前を指定してください。<code>{triggerName}</code>には発動したいトリガーの名前を指定してください。 <code>{valueVariableId}</code> には代入させる値が代入された変数のIDを指定してください。</p>\n<ul>\n<li>実行に成功すると、引数で指定された値だけグローバルサーバー変数の値が変化します。</li>\n<li>実行に失敗すると、プラグインの設定で指定した変数に「エラーメッセージ」が代入されます。</li>\n</ul>\n"},"title":"グローバルサーバー変数プラグインを利用する","path":"/global-server-variable/plugin"}}
